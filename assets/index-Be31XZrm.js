import{r as be,a as ve,b as w,c as y,R as ie,P as we,d as ke,C as je,T as ce,B as Me,X as Ne,Y as Se,e as Te}from"./charts-ChiaVzW-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var X={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function De(){if(G)return O;G=1;var e=be(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(c,l,d){var u,g={},m=null,b=null;d!==void 0&&(m=""+d),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(b=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(g[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)g[u]===void 0&&(g[u]=l[u]);return{$$typeof:t,type:c,key:m,ref:b,props:g,_owner:s.current}}return O.Fragment=r,O.jsx=i,O.jsxs=i,O}var J;function Ce(){return J||(J=1,X.exports=De()),X.exports}var a=Ce(),q={},z;function Oe(){if(z)return q;z=1;var e=ve();return q.createRoot=e.createRoot,q.hydrateRoot=e.hydrateRoot,q}var Pe=Oe();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),p=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:l,...d},u)=>w.createElement("svg",{ref:u,...Ae,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Ee(e)}`,c].join(" "),...d},[...t.map(([g,m])=>w.createElement(g,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=p("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=p("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=p("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=p("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=p("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=p("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=p("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=p("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=p("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=p("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=p("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=p("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=p("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=p("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=p("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=p("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=p("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=p("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=p("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=p("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=p("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ge({children:e,onRefresh:t,isRefreshing:r,lastUpdated:n}){return a.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)]",children:[a.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse 80% 50% at 50% -20%, rgba(99, 102, 241, 0.15), transparent)"}}),a.jsx("header",{className:"sticky top-0 z-50 border-b border-[var(--color-border)] bg-[var(--color-bg-primary)]/80 backdrop-blur-xl",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:a.jsx(Xe,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"OpenClaw Dashboard"}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:"claw.figmints.net"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx(U,{icon:a.jsx(me,{className:"w-3.5 h-3.5"}),label:"Gateway",status:"online"}),a.jsx(U,{icon:a.jsx(W,{className:"w-3.5 h-3.5"}),label:"Agent",status:"active"}),a.jsx(U,{icon:a.jsx(R,{className:"w-3.5 h-3.5"}),label:"Cron",status:"running"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[n&&a.jsxs("span",{className:"text-xs text-[var(--color-text-muted)] hidden sm:block",children:["Updated ",n.toLocaleTimeString()]}),a.jsx("button",{onClick:t,disabled:r,className:y("p-2 rounded-lg border border-[var(--color-border)] bg-[var(--color-bg-secondary)]","hover:bg-[var(--color-bg-hover)] hover:border-[var(--color-border-hover)]","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] focus:ring-offset-2 focus:ring-offset-[var(--color-bg-primary)]"),children:a.jsx($e,{className:y("w-4 h-4 text-[var(--color-text-secondary)]",r&&"animate-spin")})})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 relative",children:e}),a.jsx("footer",{className:"border-t border-[var(--color-border)] mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"ðŸ¦ž OpenClaw Control Dashboard"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--color-text-muted)]",children:[a.jsx("span",{children:"Figmints Digital"}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:"v2026.2"})]})]})})})]})}function U({icon:e,label:t,status:r}){const n={online:"bg-[var(--color-success)] shadow-green-500/30",offline:"bg-[var(--color-error)] shadow-red-500/30",active:"bg-[var(--color-success)] shadow-green-500/30",running:"bg-[var(--color-info)] shadow-blue-500/30",error:"bg-[var(--color-error)] shadow-red-500/30"};return a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-[var(--color-bg-secondary)] border border-[var(--color-border)]",children:[a.jsx("span",{className:"text-[var(--color-text-secondary)]",children:e}),a.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:t}),a.jsx("span",{className:y("w-2 h-2 rounded-full shadow-lg animate-pulse-glow",n[r])})]})}function N({children:e,className:t,hover:r=!1}){return a.jsx("div",{className:y("rounded-xl border border-[var(--color-border)] bg-[var(--color-bg-card)]","shadow-lg",r&&"hover:border-[var(--color-border-hover)] hover:bg-[var(--color-bg-hover)] transition-all duration-200 cursor-pointer",t),children:e})}function D({title:e,subtitle:t,icon:r,action:n}){return a.jsxs("div",{className:"px-5 py-4 border-b border-[var(--color-border)] flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsx("div",{className:"w-9 h-9 rounded-lg bg-[var(--color-accent-muted)] flex items-center justify-center",children:a.jsx("span",{className:"text-[var(--color-accent)]",children:r})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-[var(--color-text-primary)]",children:e}),t&&a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:t})]})]}),n]})}function C({children:e,className:t,noPadding:r=!1}){return a.jsx("div",{className:y(!r&&"p-5",t),children:e})}function F({label:e,value:t,change:r,changeType:n="neutral",icon:s,color:o="default"}){const i={default:"from-indigo-500 to-purple-600",success:"from-green-500 to-emerald-600",warning:"from-yellow-500 to-orange-600",error:"from-red-500 to-rose-600",info:"from-blue-500 to-cyan-600"},c={positive:"text-[var(--color-success)]",negative:"text-[var(--color-error)]",neutral:"text-[var(--color-text-muted)]"};return a.jsxs(N,{className:"overflow-hidden",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--color-text-secondary)] mb-1",children:e}),a.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-primary)]",children:t}),r&&a.jsx("p",{className:y("text-xs mt-1",c[n]),children:r})]}),s&&a.jsx("div",{className:y("w-12 h-12 rounded-xl bg-gradient-to-br flex items-center justify-center shadow-lg",i[o]),children:a.jsx("span",{className:"text-white",children:s})})]})}),a.jsx("div",{className:y("h-1 bg-gradient-to-r",i[o])})]})}function Je({value:e,max:t=100,color:r="default",size:n="md",showLabel:s=!1}){const o=Math.min(e/t*100,100),i={default:"bg-gradient-to-r from-indigo-500 to-purple-600",success:"bg-gradient-to-r from-green-500 to-emerald-600",warning:"bg-gradient-to-r from-yellow-500 to-orange-600",error:"bg-gradient-to-r from-red-500 to-rose-600"},c={sm:"h-1.5",md:"h-2.5"};return a.jsxs("div",{className:"w-full",children:[a.jsx("div",{className:y("w-full bg-[var(--color-bg-tertiary)] rounded-full overflow-hidden",c[n]),children:a.jsx("div",{className:y("h-full rounded-full transition-all duration-500",i[r]),style:{width:`${o}%`}})}),s&&a.jsxs("p",{className:"text-xs text-[var(--color-text-muted)] mt-1 text-right",children:[o.toFixed(0),"%"]})]})}function he(e){return e.includes(":main:main")?"main":e.includes(":subagent:")?"subagent":e.includes(":cron:")?"cron":"other"}function ze(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:e<36e5?`${Math.floor(e/6e4)}m ${Math.floor(e%6e4/1e3)}s`:`${Math.floor(e/36e5)}h ${Math.floor(e%36e5/6e4)}m`}function Ve(e){return e<6e4?"just now":e<36e5?`${Math.floor(e/6e4)}m ago`:e<864e5?`${Math.floor(e/36e5)}h ago`:`${Math.floor(e/864e5)}d ago`}function Ke({sessions:e,totalCount:t}){const r=e.filter(s=>s.totalTokens!==void 0||s.key.includes(":main:")).slice(0,8),n=e.filter(s=>s.ageMs<3e5).length;return e.find(s=>s.key.endsWith(":main")),a.jsxs(N,{children:[a.jsx(D,{title:"Active Sessions",subtitle:`${n} active / ${t} total`,icon:a.jsx(Q,{className:"w-5 h-5"})}),a.jsx(C,{noPadding:!0,children:a.jsx("div",{className:"divide-y divide-[var(--color-border)]",children:r.length===0?a.jsx("div",{className:"p-8 text-center text-[var(--color-text-muted)]",children:"No active sessions"}):r.map((s,o)=>a.jsx(Ze,{session:s},s.sessionId||o))})})]})}function Ze({session:e}){const t=he(e.key),r=e.percentUsed||0;return a.jsx("div",{className:"px-5 py-4 hover:bg-[var(--color-bg-hover)] transition-colors",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(et,{type:t}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate",children:rt(e.key)}),a.jsx(tt,{type:t})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--color-text-muted)]",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(R,{className:"w-3 h-3"}),Ve(e.ageMs)]}),e.model&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(W,{className:"w-3 h-3"}),nt(e.model)]})]})]}),a.jsxs("div",{className:"w-32 hidden sm:block",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-[var(--color-text-muted)]",children:"Tokens"}),a.jsx("span",{className:"text-[var(--color-text-secondary)]",children:at(e.totalTokens||0)})]}),a.jsx(Je,{value:r,color:r>80?"error":r>50?"warning":"default",size:"sm"})]}),a.jsx("div",{className:y("w-2 h-2 rounded-full",e.ageMs<6e4?"bg-[var(--color-success)] animate-pulse-glow":e.ageMs<3e5?"bg-[var(--color-warning)]":"bg-[var(--color-text-muted)]")})]})})}function et({type:e}){const t={main:a.jsx(Qe,{className:"w-4 h-4"}),subagent:a.jsx(W,{className:"w-4 h-4"}),cron:a.jsx(R,{className:"w-4 h-4"}),other:a.jsx(me,{className:"w-4 h-4"})},r={main:"bg-indigo-500/20 text-indigo-400",subagent:"bg-purple-500/20 text-purple-400",cron:"bg-blue-500/20 text-blue-400",other:"bg-gray-500/20 text-gray-400"};return a.jsx("div",{className:y("w-8 h-8 rounded-lg flex items-center justify-center",r[e]),children:t[e]})}function tt({type:e}){const t={main:"Main",subagent:"Subagent",cron:"Cron",other:"Other"},r={main:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",subagent:"bg-purple-500/20 text-purple-400 border-purple-500/30",cron:"bg-blue-500/20 text-blue-400 border-blue-500/30",other:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:y("px-2 py-0.5 text-[10px] font-medium rounded-full border",r[e]),children:t[e]})}function rt(e){var t,r;if(e.endsWith(":main"))return"Main Session";if(e.includes(":subagent:"))return`Subagent ${(((t=e.split(":subagent:")[1])==null?void 0:t.split(":")[0])||"").slice(0,8)}`;if(e.includes(":cron:")){const n=((r=e.split(":cron:")[1])==null?void 0:r.split(":"))||[];return n[0]?`Cron ${n[0].slice(0,8)}`:"Cron Job"}return e.split(":").pop()||e}function nt(e){var t;return e.includes("sonnet")?"Sonnet 4":e.includes("opus")?"Opus 4":e.includes("haiku")?"Haiku":((t=e.split("/").pop())==null?void 0:t.split("-").slice(0,2).join(" "))||e}function at(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}k`:e.toString()}function f(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function j(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const fe=6048e5,st=864e5,L=43200,K=1440;let ot={};function Y(){return ot}function E(e,t){var c,l,d,u;const r=Y(),n=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=f(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function I(e){return E(e,{weekStartsOn:1})}function xe(e){const t=f(e),r=t.getFullYear(),n=j(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=I(n),o=j(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=I(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Z(e){const t=f(e);return t.setHours(0,0,0,0),t}function $(e){const t=f(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function it(e,t){const r=Z(e),n=Z(t),s=+r-$(r),o=+n-$(n);return Math.round((s-o)/st)}function ct(e){const t=xe(e),r=j(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),I(r)}function _(e,t){const r=f(e),n=f(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function lt(e){return j(e,Date.now())}function dt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ut(e){if(!dt(e)&&typeof e!="number")return!1;const t=f(e);return!isNaN(Number(t))}function mt(e,t){const r=f(e),n=f(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function ht(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function ft(e,t){return+f(e)-+f(t)}function xt(e){const t=f(e);return t.setHours(23,59,59,999),t}function gt(e){const t=f(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pt(e){const t=f(e);return+xt(t)==+gt(t)}function yt(e,t){const r=f(e),n=f(t),s=_(r,n),o=Math.abs(mt(r,n));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let c=_(r,n)===-s;pt(f(e))&&o===1&&_(e,n)===1&&(c=!1),i=s*(o-Number(c))}return i===0?0:i}function bt(e,t,r){const n=ft(e,t)/1e3;return ht(r==null?void 0:r.roundingMethod)(n)}function vt(e){const t=f(e),r=j(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kt=(e,t,r)=>{let n;const s=wt[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function B(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},St={date:B({formats:jt,defaultWidth:"full"}),time:B({formats:Mt,defaultWidth:"full"}),dateTime:B({formats:Nt,defaultWidth:"full"})},Tt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dt=(e,t,r,n)=>Tt[e];function P(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):i;s=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const Ct={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ot={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},At={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Et={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wt=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yt={ordinalNumber:Wt,era:P({values:Ct,defaultWidth:"wide"}),quarter:P({values:Ot,defaultWidth:"wide",argumentCallback:e=>e-1}),month:P({values:Pt,defaultWidth:"wide"}),day:P({values:At,defaultWidth:"wide"}),dayPeriod:P({values:Et,defaultWidth:"wide",formattingValues:Rt,defaultFormattingWidth:"wide"})};function A(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Ft(c,g=>g.test(i)):qt(c,g=>g.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function qt(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ft(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Lt(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=t.slice(s.length);return{value:i,rest:c}}}const _t=/^(\d+)(th|st|nd|rd)?/i,It=/\d+/i,$t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ht={any:[/^b/i,/^(a|c)/i]},Xt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ut={any:[/1/i,/2/i,/3/i,/4/i]},Bt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kt={ordinalNumber:Lt({matchPattern:_t,parsePattern:It,valueCallback:e=>parseInt(e,10)}),era:A({matchPatterns:$t,defaultMatchWidth:"wide",parsePatterns:Ht,defaultParseWidth:"any"}),quarter:A({matchPatterns:Xt,defaultMatchWidth:"wide",parsePatterns:Ut,defaultParseWidth:"any",valueCallback:e=>e+1}),month:A({matchPatterns:Bt,defaultMatchWidth:"wide",parsePatterns:Qt,defaultParseWidth:"any"}),day:A({matchPatterns:Gt,defaultMatchWidth:"wide",parsePatterns:Jt,defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:zt,defaultMatchWidth:"any",parsePatterns:Vt,defaultParseWidth:"any"})},ge={code:"en-US",formatDistance:kt,formatLong:St,formatRelative:Dt,localize:Yt,match:Kt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zt(e){const t=f(e);return it(t,vt(t))+1}function er(e){const t=f(e),r=+I(t)-+ct(t);return Math.round(r/fe)+1}function pe(e,t){var u,g,m,b;const r=f(e),n=r.getFullYear(),s=Y(),o=(t==null?void 0:t.firstWeekContainsDate)??((g=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(m=s.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,i=j(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=E(i,t),l=j(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const d=E(l,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function tr(e,t){var c,l,d,u;const r=Y(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=pe(e,t),o=j(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),E(o,t)}function rr(e,t){const r=f(e),n=+E(r,t)-+tr(r,t);return Math.round(n/fe)+1}function h(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const k={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return h(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):h(r+1,2)},d(e,t){return h(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return h(e.getHours()%12||12,t.length)},H(e,t){return h(e.getHours(),t.length)},m(e,t){return h(e.getMinutes(),t.length)},s(e,t){return h(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return h(s,t.length)}},S={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ee={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return k.y(e,t)},Y:function(e,t,r,n){const s=pe(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return h(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):h(o,t.length)},R:function(e,t){const r=xe(e);return h(r,t.length)},u:function(e,t){const r=e.getFullYear();return h(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return h(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return h(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return k.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return h(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=rr(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):h(s,t.length)},I:function(e,t,r){const n=er(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):h(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):k.d(e,t)},D:function(e,t,r){const n=Zt(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):h(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return h(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return h(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return h(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=S.noon:n===0?s=S.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=S.evening:n>=12?s=S.afternoon:n>=4?s=S.morning:s=S.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return k.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):k.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):h(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):h(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):k.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):k.s(e,t)},S:function(e,t){return k.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return re(n);case"XXXX":case"XX":return M(n);case"XXXXX":case"XXX":default:return M(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return re(n);case"xxxx":case"xx":return M(n);case"xxxxx":case"xxx":default:return M(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+te(n,":");case"OOOO":default:return"GMT"+M(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+te(n,":");case"zzzz":default:return"GMT"+M(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return h(n,t.length)},T:function(e,t,r){const n=e.getTime();return h(n,t.length)}};function te(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+h(o,2)}function re(e,t){return e%60===0?(e>0?"-":"+")+h(Math.abs(e)/60,2):M(e,t)}function M(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=h(Math.trunc(n/60),2),o=h(n%60,2);return r+s+t+o}const ne=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ye=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nr=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ne(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",ne(n,t)).replace("{{time}}",ye(s,t))},ar={p:ye,P:nr},sr=/^D+$/,or=/^Y+$/,ir=["D","DD","YY","YYYY"];function cr(e){return sr.test(e)}function lr(e){return or.test(e)}function dr(e,t,r){const n=ur(e,t,r);if(console.warn(n),ir.includes(e))throw new RangeError(n)}function ur(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fr=/^'([^]*?)'?$/,xr=/''/g,gr=/[a-zA-Z]/;function pr(e,t,r){var u,g,m,b;const n=Y(),s=n.locale??ge,o=n.firstWeekContainsDate??((g=(u=n.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??1,i=n.weekStartsOn??((b=(m=n.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,c=f(e);if(!ut(c))throw new RangeError("Invalid time value");let l=t.match(hr).map(x=>{const v=x[0];if(v==="p"||v==="P"){const H=ar[v];return H(x,s.formatLong)}return x}).join("").match(mr).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:yr(x)};if(ee[v])return{isToken:!0,value:x};if(v.match(gr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const v=x.value;(lr(v)||cr(v))&&dr(v,t,String(e));const H=ee[v[0]];return H(c,v,s.localize,d)}).join("")}function yr(e){const t=e.match(fr);return t?t[1].replace(xr,"'"):e}function br(e,t,r){const n=Y(),s=(r==null?void 0:r.locale)??n.locale??ge,o=2520,i=_(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,d;i>0?(l=f(t),d=f(e)):(l=f(e),d=f(t));const u=bt(d,l),g=($(d)-$(l))/1e3,m=Math.round((u-g)/60);let b;if(m<2)return r!=null&&r.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,c):u<10?s.formatDistance("lessThanXSeconds",10,c):u<20?s.formatDistance("lessThanXSeconds",20,c):u<40?s.formatDistance("halfAMinute",0,c):u<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):m===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",m,c);if(m<45)return s.formatDistance("xMinutes",m,c);if(m<90)return s.formatDistance("aboutXHours",1,c);if(m<K){const x=Math.round(m/60);return s.formatDistance("aboutXHours",x,c)}else{if(m<o)return s.formatDistance("xDays",1,c);if(m<L){const x=Math.round(m/K);return s.formatDistance("xDays",x,c)}else if(m<L*2)return b=Math.round(m/L),s.formatDistance("aboutXMonths",b,c)}if(b=yt(d,l),b<12){const x=Math.round(m/L);return s.formatDistance("xMonths",x,c)}else{const x=b%12,v=Math.trunc(b/12);return x<3?s.formatDistance("aboutXYears",v,c):x<9?s.formatDistance("overXYears",v,c):s.formatDistance("almostXYears",v+1,c)}}function ae(e,t){return br(e,lt(e),t)}function vr({jobs:e}){const t=e.filter(s=>s.enabled),r=e.filter(s=>s.state.consecutiveErrors&&s.state.consecutiveErrors>0),n=[...e].sort((s,o)=>{const i=s.state.nextRunAtMs||1/0,c=o.state.nextRunAtMs||1/0;return i-c});return a.jsxs(N,{children:[a.jsx(D,{title:"Scheduled Jobs",subtitle:`${t.length} active / ${e.length} total`,icon:a.jsx(R,{className:"w-5 h-5"}),action:r.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-[var(--color-error-muted)] text-[var(--color-error)]",children:[a.jsx(le,{className:"w-3.5 h-3.5"}),a.jsxs("span",{className:"text-xs font-medium",children:[r.length," errors"]})]})}),a.jsx(C,{noPadding:!0,children:a.jsx("div",{className:"divide-y divide-[var(--color-border)]",children:n.length===0?a.jsx("div",{className:"p-8 text-center text-[var(--color-text-muted)]",children:"No cron jobs configured"}):n.map(s=>a.jsx(wr,{job:s},s.id))})})]})}function wr({job:e}){const t=e.state.lastStatus==="error",r=e.enabled;return a.jsx("div",{className:y("px-5 py-4 hover:bg-[var(--color-bg-hover)] transition-colors",!r&&"opacity-50"),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:y("w-10 h-10 rounded-xl flex items-center justify-center",t?"bg-[var(--color-error-muted)]":r?"bg-[var(--color-success-muted)]":"bg-[var(--color-bg-tertiary)]"),children:r?t?a.jsx(le,{className:"w-5 h-5 text-[var(--color-error)]"}):a.jsx(Re,{className:"w-5 h-5 text-[var(--color-success)]"}):a.jsx(_e,{className:y("w-5 h-5","text-[var(--color-text-muted)]")})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate",children:e.name}),a.jsx(kr,{schedule:e.schedule})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-[var(--color-text-muted)]",children:[e.state.lastRunAtMs&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ie,{className:"w-3 h-3"}),"Last: ",ae(e.state.lastRunAtMs,{addSuffix:!0})]}),e.state.lastDurationMs&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ue,{className:"w-3 h-3"}),ze(e.state.lastDurationMs)]}),t&&e.state.lastError&&a.jsx("span",{className:"text-[var(--color-error)] truncate max-w-[200px]",children:e.state.lastError.replace("Error: ","")})]})]}),a.jsx("div",{className:"text-right hidden sm:block",children:e.state.nextRunAtMs&&r&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:ae(e.state.nextRunAtMs,{addSuffix:!0})}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:pr(e.state.nextRunAtMs,"h:mm a")})]})}),a.jsx(We,{className:"w-4 h-4 text-[var(--color-text-muted)]"})]})})}function kr({schedule:e}){let t="";if(e.kind==="cron"&&e.expr)e.expr==="*/30 * * * *"?t="Every 30m":e.expr==="0 * * * *"?t="Hourly":e.expr.startsWith("0 ")&&e.expr.includes(" * * *")?t=`Daily ${parseInt(e.expr.split(" ")[1])}:00`:e.expr.includes(" * * 5")?t="Weekly Fri":t=e.expr;else if(e.kind==="every"&&e.everyMs){const r=e.everyMs/6e4;r<60?t=`Every ${r}m`:t=`Every ${r/60}h`}return a.jsx("span",{className:"px-2 py-0.5 text-[10px] font-medium rounded-full bg-[var(--color-bg-tertiary)] text-[var(--color-text-muted)] border border-[var(--color-border)]",children:t||e.kind})}const se={"claude-sonnet-4-20250514":{input:3,output:15},"claude-opus-4-5":{input:15,output:75},"claude-haiku":{input:.25,output:1.25},default:{input:3,output:15}};function jr({sessions:e}){const t=e.reduce((i,c)=>(i.totalTokens+=c.totalTokens||0,i.inputTokens+=c.inputTokens||0,i.outputTokens+=c.outputTokens||0,i),{totalTokens:0,inputTokens:0,outputTokens:0}),r=e.reduce((i,c)=>{const l=c.model||"default",d=se[l]||se.default,u=(c.inputTokens||0)/1e6*d.input,g=(c.outputTokens||0)/1e6*d.output;return i+u+g},0),n=e.reduce((i,c)=>{const l=he(c.key);return i[l]||(i[l]={tokens:0,count:0}),i[l].tokens+=c.totalTokens||0,i[l].count+=1,i},{}),s=Object.entries(n).map(([i,c])=>({name:i.charAt(0).toUpperCase()+i.slice(1),value:c.tokens,count:c.count})),o=["#6366f1","#8b5cf6","#3b82f6","#64748b"];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(F,{label:"Total Tokens",value:T(t.totalTokens),icon:a.jsx(V,{className:"w-5 h-5"}),color:"default"}),a.jsx(F,{label:"Input Tokens",value:T(t.inputTokens),icon:a.jsx(Be,{className:"w-5 h-5"}),color:"info"}),a.jsx(F,{label:"Output Tokens",value:T(t.outputTokens),icon:a.jsx(Q,{className:"w-5 h-5"}),color:"success"}),a.jsx(F,{label:"Est. Cost",value:`$${r.toFixed(2)}`,icon:a.jsx(Ye,{className:"w-5 h-5"}),color:"warning"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(N,{children:[a.jsx(D,{title:"Usage by Type",subtitle:"Token distribution across session types",icon:a.jsx(Q,{className:"w-5 h-5"})}),a.jsxs(C,{children:[a.jsx("div",{className:"h-64 flex items-center justify-center",children:s.length>0?a.jsx(ie,{width:"100%",height:"100%",children:a.jsxs(we,{children:[a.jsx(ke,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((i,c)=>a.jsx(je,{fill:o[c%o.length]},`cell-${c}`))}),a.jsx(ce,{contentStyle:{background:"var(--color-bg-card)",border:"1px solid var(--color-border)",borderRadius:"8px",padding:"8px 12px"},formatter:i=>[T(Number(i)||0),"Tokens"]})]})}):a.jsx("p",{className:"text-[var(--color-text-muted)]",children:"No data"})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:s.map((i,c)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o[c%o.length]}}),a.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:[i.name," (",i.count,")"]})]},i.name))})]})]}),a.jsxs(N,{children:[a.jsx(D,{title:"Context Usage",subtitle:"Token usage per session",icon:a.jsx(V,{className:"w-5 h-5"})}),a.jsx(C,{children:a.jsx("div",{className:"h-64",children:a.jsx(Mr,{sessions:e})})})]})]})]})}function Mr({sessions:e}){const t=[...e].filter(r=>r.totalTokens&&r.totalTokens>0).sort((r,n)=>(n.totalTokens||0)-(r.totalTokens||0)).slice(0,8).map(r=>({name:Nr(r.key),tokens:r.totalTokens||0,percent:r.percentUsed||0}));return t.length===0?a.jsx("div",{className:"h-full flex items-center justify-center text-[var(--color-text-muted)]",children:"No session data available"}):a.jsx(ie,{width:"100%",height:"100%",children:a.jsxs(Me,{data:t,layout:"vertical",margin:{left:0,right:20},children:[a.jsx(Ne,{type:"number",tickFormatter:r=>T(r),stroke:"var(--color-text-muted)",fontSize:10}),a.jsx(Se,{type:"category",dataKey:"name",width:80,stroke:"var(--color-text-muted)",fontSize:10,tickLine:!1}),a.jsx(ce,{contentStyle:{background:"var(--color-bg-card)",border:"1px solid var(--color-border)",borderRadius:"8px",padding:"8px 12px"},formatter:r=>[T(Number(r)||0),"Tokens"]}),a.jsx(Te,{dataKey:"tokens",fill:"url(#tokenGradient)",radius:[0,4,4,0]}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"tokenGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),a.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]})})}function T(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:e.toString()}function Nr(e){var t,r,n;return e.endsWith(":main")?"Main":e.includes(":subagent:")?"Sub "+((t=e.split(":subagent:")[1])==null?void 0:t.slice(0,4)):e.includes(":cron:")?"Cron "+((r=e.split(":cron:")[1])==null?void 0:r.slice(0,4)):((n=e.split(":").pop())==null?void 0:n.slice(0,8))||e}function Sr({status:e}){var o,i,c,l,d,u,g,m,b;const t=e.gateway,r=e.gatewayService,n=e.agents,s=[{label:"Gateway",value:t!=null&&t.reachable?"Connected":"Disconnected",status:t!=null&&t.reachable?"online":"offline",icon:a.jsx(ue,{className:"w-4 h-4"}),detail:(t==null?void 0:t.url)||"Unknown"},{label:"Service",value:(o=r==null?void 0:r.runtimeShort)!=null&&o.includes("running")?"Running":"Stopped",status:(i=r==null?void 0:r.runtimeShort)!=null&&i.includes("running")?"online":"offline",icon:a.jsx(W,{className:"w-4 h-4"}),detail:(r==null?void 0:r.label)||"Unknown"},{label:"Channels",value:(c=e.channelSummary)!=null&&c.length?"Active":"None",status:(l=e.channelSummary)!=null&&l.length?"online":"warning",icon:a.jsx(Le,{className:"w-4 h-4"}),detail:((d=e.channelSummary)==null?void 0:d[0])||"No channels"},{label:"Memory",value:(u=e.memoryPlugin)!=null&&u.enabled?"Enabled":"Disabled",status:(g=e.memoryPlugin)!=null&&g.enabled?"online":"warning",icon:a.jsx(de,{className:"w-4 h-4"}),detail:"Vector + FTS"}];return a.jsxs(N,{children:[a.jsx(D,{title:"System Status",subtitle:((m=t==null?void 0:t.self)==null?void 0:m.host)||"Local",icon:a.jsx(He,{className:"w-5 h-5"})}),a.jsx(C,{children:a.jsxs("div",{className:"space-y-4",children:[s.map(x=>a.jsx(Tr,{...x},x.label)),((b=n==null?void 0:n.agents)==null?void 0:b[0])&&a.jsxs("div",{className:"pt-4 border-t border-[var(--color-border)]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Active Agent"}),a.jsx("span",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:n.agents[0].name})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--color-text-muted)]",children:[a.jsx("span",{children:"Sessions"}),a.jsx("span",{children:n.agents[0].sessionsCount})]})]}),(t==null?void 0:t.self)&&a.jsx("div",{className:"pt-4 border-t border-[var(--color-border)]",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--color-text-muted)]",children:[a.jsx(qe,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:t.self.platform}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:t.self.ip})]})})]})})]})}function Tr({label:e,value:t,status:r,icon:n,detail:s}){const o={online:"text-[var(--color-success)]",offline:"text-[var(--color-error)]",warning:"text-[var(--color-warning)]"},i={online:"bg-[var(--color-success)]",offline:"bg-[var(--color-error)]",warning:"bg-[var(--color-warning)]"};return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[var(--color-bg-tertiary)] flex items-center justify-center text-[var(--color-text-secondary)]",children:n}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:y("text-sm font-medium",o[r]),children:t}),a.jsx("span",{className:y("w-2 h-2 rounded-full",i[r])})]})]}),a.jsx("p",{className:"text-xs text-[var(--color-text-muted)] truncate",children:s})]})]})}function Dr({onAction:e}){const t=[{id:"refresh",label:"Refresh Data",icon:a.jsx(R,{className:"w-4 h-4"})},{id:"sessions",label:"Clear Sessions",icon:a.jsx(de,{className:"w-4 h-4"})},{id:"restart",label:"Restart Gateway",icon:a.jsx(ue,{className:"w-4 h-4"})}];return a.jsxs(N,{children:[a.jsx(D,{title:"Quick Actions",icon:a.jsx(W,{className:"w-5 h-5"})}),a.jsx(C,{children:a.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map(r=>a.jsxs("button",{onClick:()=>e(r.id),className:y("flex items-center gap-3 px-4 py-3 rounded-lg","bg-[var(--color-bg-tertiary)] border border-[var(--color-border)]","hover:bg-[var(--color-bg-hover)] hover:border-[var(--color-border-hover)]","transition-all duration-200","text-sm text-[var(--color-text-secondary)]"),children:[a.jsx("span",{className:"text-[var(--color-accent)]",children:r.icon}),r.label]},r.id))})})]})}const Cr=!0;function Or(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[s,o]=w.useState(null),[i,c]=w.useState(null),l=w.useCallback(async()=>{n(!0),o(null);try{if(Cr){const d=oe();t(d)}c(new Date)}catch(d){console.error("Failed to fetch dashboard data:",d),o(d instanceof Error?d:new Error("Unknown error")),t(oe())}finally{n(!1)}},[]);return w.useEffect(()=>{l();const d=setInterval(l,3e4);return()=>clearInterval(d)},[l]),{data:e,isLoading:r,error:s,lastUpdated:i,refetch:l}}function oe(){const e=Date.now();return{sessions:{path:"/Users/brad/.openclaw/agents/main/sessions/sessions.json",count:61,sessions:[{key:"agent:main:main",kind:"direct",updatedAt:e-6e4,ageMs:6e4,sessionId:"main-session-id",model:"claude-sonnet-4-20250514",contextTokens:2e5,totalTokens:115080,inputTokens:23e3,outputTokens:15900,percentUsed:58,remainingTokens:84920,systemSent:!0},{key:"agent:main:subagent:dashboard-dev",kind:"direct",updatedAt:e-3e4,ageMs:3e4,sessionId:"subagent-1",model:"claude-sonnet-4-20250514",contextTokens:2e5,totalTokens:45e3,percentUsed:22},{key:"agent:main:cron:clearmud-progress",kind:"direct",updatedAt:e-2e5,ageMs:2e5,sessionId:"cron-1",model:"claude-sonnet-4-20250514",contextTokens:2e5,totalTokens:2e5,inputTokens:155,outputTokens:2336,percentUsed:100,systemSent:!0},{key:"agent:main:cron:daily-status",kind:"direct",updatedAt:e-4e6,ageMs:4e6,sessionId:"cron-2",model:"claude-sonnet-4-20250514",contextTokens:2e5,totalTokens:18e4,percentUsed:90,systemSent:!0},{key:"agent:main:subagent:email-agent",kind:"direct",updatedAt:e-12e4,ageMs:12e4,sessionId:"subagent-2",model:"claude-sonnet-4-20250514",contextTokens:2e5,totalTokens:78e3,percentUsed:39}]},cron:{jobs:[{id:"clearmud-updates",name:"Clearmud Strategy Status Updates",enabled:!0,createdAtMs:e-864e5,updatedAtMs:e-6e5,schedule:{kind:"every",everyMs:6e5},sessionTarget:"main",wakeMode:"now",payload:{kind:"systemEvent",text:"Check Clearmud delivery status"},state:{nextRunAtMs:e+3e5,lastRunAtMs:e-6e5,lastStatus:"ok",lastDurationMs:10526,consecutiveErrors:0}},{id:"daily-6am",name:"Daily Status Report (6AM)",enabled:!0,createdAtMs:e-6048e5,updatedAtMs:e-432e5,schedule:{kind:"cron",expr:"0 6 * * *",tz:"America/New_York"},sessionTarget:"main",wakeMode:"next-heartbeat",payload:{kind:"systemEvent",text:"Morning status report"},state:{nextRunAtMs:e+288e5,lastRunAtMs:e-576e5,lastStatus:"ok",lastDurationMs:0,consecutiveErrors:0}},{id:"cmo-status",name:"CMO App Status Check",enabled:!0,createdAtMs:e-6048e5,updatedAtMs:e-36e5,schedule:{kind:"cron",expr:"0 11 * * *",tz:"America/New_York"},sessionTarget:"main",wakeMode:"now",payload:{kind:"systemEvent",text:"CMO app build progress"},state:{lastRunAtMs:e-432e5,lastStatus:"error",lastDurationMs:970515,consecutiveErrors:1,lastError:"Error: cron: job execution timed out"}},{id:"pendant-extract",name:"Daily Commitment Extraction",enabled:!0,createdAtMs:e-2592e5,updatedAtMs:e-216e5,schedule:{kind:"cron",expr:"0 17 * * *",tz:"America/New_York"},sessionTarget:"isolated",wakeMode:"now",payload:{kind:"agentTurn",message:"Extract commitments from Pendant API"},state:{nextRunAtMs:e+648e5,lastRunAtMs:e-216e5,lastStatus:"ok",lastDurationMs:583547,consecutiveErrors:0}},{id:"linkedin-weekly",name:"LinkedIn Weekly Report",enabled:!0,createdAtMs:e-12096e5,updatedAtMs:e-1728e5,schedule:{kind:"cron",expr:"0 17 * * 5",tz:"America/New_York"},sessionTarget:"main",wakeMode:"now",payload:{kind:"systemEvent",text:"Weekly LinkedIn outreach report"},state:{nextRunAtMs:e+432e6,lastRunAtMs:e-1728e5,lastStatus:"ok",lastDurationMs:30585,consecutiveErrors:0}}]},status:{heartbeat:{agents:[{agentId:"main",enabled:!0,every:"1h",everyMs:36e5}]},channelSummary:["iMessage: configured","  - default"],sessions:{count:61,defaults:{model:"claude-sonnet-4-20250514",contextTokens:2e5}},gateway:{mode:"local",url:"ws://127.0.0.1:18789",reachable:!0,self:{host:"jamess-Mac-mini.local",ip:"192.168.86.36",platform:"macos 26.2 (arm64)"}},gatewayService:{label:"LaunchAgent",installed:!0,runtimeShort:"running (pid 85391, state active)"},agents:{defaultId:"main",agents:[{id:"main",name:"main",workspaceDir:"/Users/brad/Library/Mobile Documents/com~apple~CloudDocs/clawd-brad",sessionsCount:61,lastActiveAgeMs:23706}],totalSessions:61},memoryPlugin:{enabled:!0}},lastUpdated:e}}function Pr(){const{data:e,isLoading:t,error:r,lastUpdated:n,refetch:s}=Or();if(t&&!e)return a.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Fe,{className:"w-8 h-8 text-[var(--color-accent)] animate-spin"}),a.jsx("p",{className:"text-[var(--color-text-muted)]",children:"Loading dashboard..."})]})});if(r&&!e)return a.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[var(--color-error)] mb-2",children:"Failed to load dashboard"}),a.jsx("p",{className:"text-[var(--color-text-muted)] text-sm mb-4",children:r.message}),a.jsx("button",{onClick:s,className:"px-4 py-2 bg-[var(--color-accent)] text-white rounded-lg hover:bg-[var(--color-accent-hover)] transition-colors",children:"Retry"})]})});const o=(e==null?void 0:e.sessions.sessions)||[],i=(e==null?void 0:e.cron.jobs)||[],c=e==null?void 0:e.status;return a.jsx(Ge,{onRefresh:s,isRefreshing:t,lastUpdated:n||void 0,children:a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-[var(--color-text-primary)] mb-4",children:"Token Analytics"}),a.jsx(jr,{sessions:o})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Ke,{sessions:o,totalCount:(e==null?void 0:e.sessions.count)||0})}),a.jsxs("div",{className:"space-y-6",children:[c&&a.jsx(Sr,{status:c}),a.jsx(Dr,{onAction:l=>{console.log("Action:",l),l==="refresh"&&s()}})]})]}),a.jsx("section",{children:a.jsx(vr,{jobs:i})})]})})}Pe.createRoot(document.getElementById("root")).render(a.jsx(w.StrictMode,{children:a.jsx(Pr,{})}));
